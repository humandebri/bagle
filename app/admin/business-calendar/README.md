# 営業日カレンダー管理機能

## 概要
営業日カレンダー管理機能は、店舗の営業日・定休日・営業時間を管理する機能です。

## 機能

### 1. カレンダー管理
- 月表示のカレンダーで営業日を視覚的に管理
- 営業日（緑）、休業日（赤）、特別営業日（青）の色分け表示
- 日付をクリックして個別に編集可能
- 備考欄で臨時休業理由などを記録

### 2. 営業時間管理
- 曜日別の営業時間を設定
- 定休日の設定
- 一覧表示で全曜日の状況を確認

### 3. 定期休業日管理
- 「第4日曜日」のような定期的な休業日パターンを設定
- パターンの有効/無効切り替え
- 複数パターンの管理

## セットアップ

### 1. データベース準備
Supabaseのダッシュボードで以下のSQLを実行してください：

```sql
-- sql/create_tables.sql の内容を実行
```

### 2. 環境変数
`.env.local` に以下の環境変数が設定されていることを確認：

```
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
```

## 使い方

### 管理画面
1. 管理者権限でログイン
2. サイドメニューから「営業日カレンダー」を選択
3. 各タブで設定を管理

### フロントエンド表示
ホームページの営業日カレンダーに自動的に反映されます。

## API仕様
詳細は `API_SPEC.md` を参照してください。

## 開発者向け

### ファイル構成
```
app/admin/business-calendar/
├── page.tsx                    # メインページ
├── components/                 # UIコンポーネント
│   ├── CalendarTab.tsx
│   ├── BusinessHoursTab.tsx
│   ├── RecurringHolidaysTab.tsx
│   └── 各種モーダル
├── sql/                        # データベース定義
└── ドキュメント
```

### 技術仕様
- Next.js 15 App Router
- TypeScript
- Supabase
- FullCalendar
- Tailwind CSS

## トラブルシューティング

### カレンダーが表示されない
- ブラウザコンソールでエラーを確認
- Supabaseのテーブルが作成されているか確認
- 管理者権限でログインしているか確認

### 保存できない
- ネットワークエラーを確認
- Supabaseの権限設定を確認