!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="b00fc915-323f-42a2-8673-a86f8f393f1b",e._sentryDebugIdIdentifier="sentry-dbid-b00fc915-323f-42a2-8673-a86f8f393f1b")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1112],{11584:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(80263),n=t(82489),l=t(14031),r=t(90720),i=t(53755),d=t(94786),c=t(16601);let o=e=>{let{filterOptions:s,activeLints:t,filteredLints:o,currentTab:x,filters:m,isLoading:u,setFilters:h,onClickRefresh:p}=e,{ref:f}=(0,n.g)(),g=(e,s)=>{let t=[...m],a=t.findIndex(s=>s.level===e);-1!==a&&(t[a]={...t[a],filters:s},h(t))};return(0,a.jsxs)("div",{className:"px-6 py-2 -mt-px flex bg-surface-200 items-center justify-between border-t","data-sentry-component":"LinterFilters","data-sentry-source-file":"LinterFilters.tsx",children:[l.T.map(e=>{var n;return(0,a.jsx)("div",{className:e.id===x?"":"hidden",children:(0,a.jsx)(i.I,{name:"Filter",className:"w-52",options:s,disabled:0===t.filter(s=>s.level===e.id).length,labelKey:"name",valueKey:"value",activeOptions:(null==(n=m.find(s=>s.level===e.id))?void 0:n.filters)||[],onSaveFilters:s=>g(e.id,s)})},e.id)}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)(c.$,{size:"tiny",type:"default",disabled:u,onClick:p,icon:(0,a.jsx)(d.A,{className:"text-foreground-light ".concat(u?"animate-spin":"")}),"data-sentry-element":"Button","data-sentry-source-file":"LinterFilters.tsx",children:"Refresh"}),(0,a.jsx)(r.b,{align:"end",results:o,fileName:"Supabase Performance Security Lints (".concat(f,")"),"data-sentry-element":"DownloadResultsButton","data-sentry-source-file":"LinterFilters.tsx"})]})]})}},41025:(e,s,t)=>{t.d(s,{A:()=>m});var a=t(80263);let n=(0,t(47370).A)("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);var l=t(52554),r=t(93479),i=t(2),d=t(3732),c=t(14031),o=t(17234),x=t(52385);let m=e=>{let{currentTab:s,setCurrentTab:t,setSelectedLint:m,isLoading:u,activeLints:h}=e,p=(0,x.useRouter)(),f=h.filter(e=>"WARN"===e.level).length,g=h.filter(e=>"ERROR"===e.level).length,j=h.filter(e=>"INFO"===e.level).length,v=e=>{let{tab:s}=e,t=0,n="";return s.id===c.R.ERROR&&(t=g,n="errors"),s.id===c.R.WARN&&(t=f,n="warnings"),s.id===c.R.INFO&&(t=j,n="suggestions"),(0,a.jsx)("span",{className:"text-xs text-foreground-muted group-hover:text-foreground-lighter group-data-[state=active]:text-foreground-lighter transition","data-sentry-component":"LintCountLabel","data-sentry-source-file":"LintPageTabs.tsx",children:u?(0,a.jsx)(o.A,{className:"w-20 pt-1"}):(0,a.jsxs)(a.Fragment,{children:[t," ",n]})})};return(0,a.jsx)(r.tU,{defaultValue:s,onValueChange:e=>{t(e),m(null);let{sort:s,search:a,...n}=p.query;p.push({...p,query:{...n,preset:e,id:null}})},"data-sentry-element":"Tabs_Shadcn_","data-sentry-component":"LintPageTabs","data-sentry-source-file":"LintPageTabs.tsx",children:(0,a.jsx)(r.j7,{className:(0,i.cn)("flex gap-0 border-0 items-end z-10 relative"),"data-sentry-element":"TabsList_Shadcn_","data-sentry-source-file":"LintPageTabs.tsx",children:c.T.map(e=>(0,a.jsxs)(r.Xi,{value:e.id,className:(0,i.cn)("group relative","px-6 py-3 border-b-0 flex flex-col items-start !shadow-none border-default border-t","even:border-x last:border-r even:!border-x-strong last:!border-r-strong",e.id===s?"!bg-surface-200":"!bg-surface-200/[33%]","hover:!bg-surface-100","data-[state=active]:!bg-surface-200","hover:text-foreground-light","transition"),children:[e.id===s&&(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-foreground"}),(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)("span",{className:e.id===c.R.ERROR?"text-destructive-600":e.id===c.R.WARN?"text-warning-600":"text-brand-500",children:(0,a.jsx)(n,{size:14,fill:"currentColor",strokeWidth:0})}),(0,a.jsx)("span",{className:"",children:e.label}),(0,a.jsxs)(d.m_,{children:[(0,a.jsx)(d.k$,{asChild:!0,children:(0,a.jsx)(l.A,{className:"transition text-foreground-muted w-3 h-3 data-[state=delayed-open]:text-foreground-light"})}),(0,a.jsx)(d.ZI,{side:"top",children:e.description})]})]}),(0,a.jsx)(v,{tab:e})]},e.id))})})}},61259:(e,s,t)=>{t.d(s,{A:()=>b});var a=t(80263),n=t(23278),l=t(66452),r=t(63320),i=t.n(r),d=t(53239),c=t(24560),o=t(86953),x=t(82489),m=t(8048),u=t(52385),h=t(58289),p=t(2),f=t(79210),g=t(16601),j=t(93479),v=t(19061),y=t(62719);let b=e=>{var s,t,r;let{isLoading:b,filteredLints:N,selectedLint:w,setSelectedLint:R,currentTab:k}=e,L=(0,d.useRef)(null),{ref:C}=(0,x.g)(),I=(0,u.useRouter)(),_=(0,h.xd)(),[z,S]=(0,d.useState)("details"),A=[{id:"name",name:"Issue type",description:void 0,minWidth:240,value:e=>{var s,t;return(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"shrink-0",children:null==(s=m.ah.find(s=>e.name===s.name))?void 0:s.icon}),(0,a.jsx)("h3",{className:"text-xs",children:null==(t=m.ah.find(s=>e.name===s.name))?void 0:t.title})]})}},{id:"metadata.name",name:"Entity/item",description:void 0,minWidth:230,value:e=>{var s;return(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:[(0,a.jsx)("span",{className:"shrink-0",children:(0,a.jsx)(m.L,{type:null==(s=e.metadata)?void 0:s.type})}),(0,a.jsx)(m.VL,{metadata:e.metadata})]})}},{id:"description",name:"Description",description:void 0,minWidth:400,value:e=>(0,a.jsx)(o.$,{className:"text-xs",children:e.description})}].map(e=>{var s;return{key:e.id,name:e.name,resizable:!0,minWidth:null!=(s=e.minWidth)?s:120,headerCellClass:"first:pl-6 cursor-pointer",renderHeaderCell:()=>(0,a.jsx)("div",{className:"flex items-center justify-between font-mono font-normal text-xs w-full",children:(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsx)("p",{className:"!text-foreground",children:e.name}),e.description&&(0,a.jsx)("p",{className:"text-foreground-lighter",children:e.description})]})}),renderCell:s=>{let t=e.value(s.row);return(0,a.jsx)("div",{className:(0,p.cn)("w-full flex flex-col justify-center font-mono text-xs","number"==typeof t?"text-right":""),children:(0,a.jsx)("span",{children:t})})}}});return(0,a.jsxs)(f.HK,{direction:"horizontal",className:"relative flex flex-grow bg-alternative min-h-0",autoSaveId:"linter-layout-v1","data-sentry-element":"ResizablePanelGroup","data-sentry-component":"LinterDataGrid","data-sentry-source-file":"LinterDataGrid.tsx",children:[(0,a.jsx)(f.wV,{defaultSize:1,"data-sentry-element":"ResizablePanel","data-sentry-source-file":"LinterDataGrid.tsx",children:(0,a.jsx)(c.Ay,{ref:L,style:{height:"100%"},className:(0,p.cn)("flex-1 flex-grow h-full"),rowHeight:44,headerRowHeight:36,columns:A,rows:null!=N?N:[],rowClass:e=>{let s=e.cache_key===(null==w?void 0:w.cache_key);return["".concat(s?"bg-surface-300 dark:bg-surface-300":"bg-200"," cursor-pointer"),"".concat(s?"[&>div:first-child]:border-l-4 border-l-secondary [&>div]:border-l-foreground":""),"[&>.rdg-cell]:border-box [&>.rdg-cell]:outline-none [&>.rdg-cell]:shadow-none","[&>.rdg-cell:first-child>div]:ml-4"].join(" ")},renderers:{renderRow:(e,s)=>(0,a.jsx)(c.fI,{...s,onClick:()=>{if("number"==typeof e&&e>=0){var t;R(s.row),null==(t=L.current)||t.scrollToCell({idx:0,rowIdx:e});let{id:a,...n}=I.query;I.push({...I,query:{...n,id:s.row.cache_key}})}}},s.row.cache_key),noRowsFallback:b?(0,a.jsx)("div",{className:"absolute top-14 px-6 w-full",children:(0,a.jsx)(y.y,{})}):(0,a.jsx)(m._N,{level:k})},"data-sentry-element":"DataGrid","data-sentry-source-file":"LinterDataGrid.tsx"})}),null!==w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.WM,{withHandle:!0}),(0,a.jsxs)(f.wV,{defaultSize:30,maxSize:45,minSize:30,className:"bg-studio border-t",children:[(0,a.jsx)(g.$,{type:"text",className:"absolute top-3 right-3 px-1",icon:(0,a.jsx)(n.A,{}),onClick:function(){R(null);let{id:e,...s}=I.query;I.push({query:s})}}),(0,a.jsxs)(j.tU,{value:z,className:"flex flex-col h-full",onValueChange:e=>{S(e)},children:[(0,a.jsx)(j.j7,{className:"px-5 flex gap-x-4 min-h-[46px]",children:(0,a.jsx)(j.Xi,{value:"details",className:"px-0 pb-0 h-full text-xs  data-[state=active]:bg-transparent !shadow-none",children:"Overview"})}),(0,a.jsx)(j.av,{value:"details",className:"mt-0 flex-grow min-h-0 overflow-y-auto prose",children:w&&(0,a.jsxs)("div",{className:"py-4 px-5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 py-2",children:[(0,a.jsx)("h3",{className:"text-sm m-0",children:null==(s=m.ah.find(e=>e.name===w.name))?void 0:s.title}),(0,a.jsx)(m.pr,{category:w.categories[0]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm mt-4",children:[(0,a.jsx)("span",{children:"Entity"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-surface-200 border rounded-lg ",children:[(0,a.jsx)(m.L,{type:null==(t=w.metadata)?void 0:t.type}),(0,a.jsx)(m.VL,{metadata:w.metadata})]})]}),(0,a.jsxs)("div",{className:"grid",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm",children:"Issue"}),(0,a.jsx)(o.$,{className:"leading-6 text-sm",children:w.detail.replace(/\\`/g,"`")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm",children:"Description"}),(0,a.jsx)(o.$,{className:"text-sm",children:w.description.replace(/\\`/g,"`")})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("h3",{className:"text-sm",children:"Resolve"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.$,{icon:(0,a.jsx)(v.M,{className:"scale-75 w-3 h-3"}),onClick:()=>{var e,s,t,a;_.newChat({name:"Summarize lint",open:!0,initialInput:"Summarize the issue and suggest fixes: ".concat(null==(e=m.ah.find(e=>e.name===w.name))?void 0:e.title,"\n                                \nEntity: ").concat(null!=(t=w.metadata&&(w.metadata.entity||w.metadata.schema&&w.metadata.name&&"".concat(w.metadata.schema,".").concat(w.metadata.name)))?t:"","\n                                \nSchema: ").concat(null!=(a=null==(s=w.metadata)?void 0:s.schema)?a:"","\n                                \nIssue: ").concat(w.detail.replace(/\\`/g,"`"),"\n                                \nDescription: ").concat(w.description.replace(/\\`/g,"`"),"\n")})},children:"Ask Assistant"}),(0,a.jsx)(m.W7,{title:w.name,projectRef:C,metadata:w.metadata}),(0,a.jsx)(g.$,{asChild:!0,type:"text",children:(0,a.jsx)(i(),{href:(null==(r=m.ah.find(e=>e.name===w.name))?void 0:r.docsLink)||"https://supabase.com/docs/guides/database/database-linter",target:"_blank",rel:"noreferrer",className:"no-underline",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:["Learn more ",(0,a.jsx)(l.A,{size:14})]})})})]})]})]})]})})]})]})]})]})}},63927:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(80263),n=t(2),l=t(16601),r=t(57947);let i=e=>{let{isLoading:s,isRefetching:t,refetch:i,hideDbInspectCTA:d}=e;return(0,a.jsxs)("div",{className:"px-6 py-6 flex gap-x-4 border-t ","data-sentry-component":"LinterPageFooter","data-sentry-source-file":"LinterPageFooter.tsx",children:[(0,a.jsxs)("div",{className:(0,n.cn)(d?"w-[35%]":"w-[33%]","flex flex-col gap-y-1 text-sm"),children:[(0,a.jsx)("p",{children:"Reset suggestions"}),(0,a.jsx)("p",{className:"text-xs text-foreground-light",children:"Consider resetting the analysis making any changes"}),(0,a.jsx)(l.$,{type:"default",className:"!mt-3 w-min",disabled:s||t,loading:s||t,onClick:()=>i(),"data-sentry-element":"Button","data-sentry-source-file":"LinterPageFooter.tsx",children:"Rerun linter"})]}),(0,a.jsxs)("div",{className:(0,n.cn)(d?"w-[35%]":"w-[33%]","flex flex-col gap-y-1 text-sm"),children:[(0,a.jsx)("p",{children:"How are these suggestions generated?"}),(0,a.jsx)("div",{className:"prose text-xs",children:(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{children:"These suggestions use "}),(0,a.jsx)("a",{href:"https://github.com/supabase/splinter",target:"",rel:"",children:"splinter (Supabase Postgres LINTER)"}),"."]})})]}),!d&&(0,a.jsxs)("div",{className:"w-[33%] flex flex-col gap-y-1 text-sm",children:[(0,a.jsx)("p",{children:"Inspect your database for potential issues"}),(0,a.jsx)(r.o,{className:"text-xs",content:"The Supabase CLI comes with a range of tools to help inspect your Postgres instances for potential issues. [Learn more here](https://supabase.com/docs/guides/database/inspect)."})]})]})}}}]);